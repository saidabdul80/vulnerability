<!DOCTYPE html>
<html>

<head>
    <title>Data Reports</title>
    <!-- Include Chart.js library and other dependencies -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">

        <!-- Define a JavaScript function to create a pie chart -->
        <script>
            function createSegmentedBarChart(id, data, title) {
                // Data for the segmented bar chart
                var chartData = {
                    labels: ["Low", "Median", "High"],
                    datasets: [{
                        label: title,
                        data: data,
                        backgroundColor: ["#FF5733", "#33FF57", "#5733FF"],
                    }, ],
                };

                // Bar chart options
                var options = {
                    responsive: true,
                };

                // Create the segmented bar chart
                var chart = new Chart(document.getElementById(id).getContext('2d'), {
                    type: 'bar',
                    data: chartData,
                    options: options,
                });
            }
        </script>

        </script>

        <!-- Pie Chart for "Poor" Category -->
        <div class="row">
            <div class="col-md-2">
                <h6>Total Captured:</h6>
                <h4></h4>
            </div>
            <div class="col-md-2">
                <h6>Total Captured:</h6>
                <h4></h4>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 px-5 pt-5">
                <canvas id="poorChart" width="400" height="400" title="Poor Category"></canvas>        
            </div>
            <!-- Call the function to create the "Poor" category pie chart -->
            <script>
                createSegmentedBarChart("poorChart", [<?= $poor->q25 ?>, <?= $poor->median ?>, <?= $poor->q75 ?>], 'Poor ');
            </script>

            <div class="col-md-4 px-5 pt-5">
                <canvas id="elderlyChart" width="400" height="400" title="Elderly Category"></canvas>            
            </div>
            <script>
                createSegmentedBarChart("elderlyChart", [<?= $elderly->q25 ?>, <?= $elderly->median ?>, <?= $elderly->q75 ?>], 'Elderly');
            </script>

            <div class="col-md-4 px-5 pt-5">
                <canvas id="disabilityChart" width="400" height="400" title="disability Category"></canvas>     
            </div>
            <script>
                createSegmentedBarChart("disabilityChart", [<?= $disability->q25 ?>, <?= $disability->median ?>, <?= $disability->q75 ?>], 'Disability ');
            </script>

        </div>
        <div class="row">
            <div class="col-md-4 px-5 pt-5">
                <canvas id="IDPChart" width="400" height="400" title="IDP Category"></canvas>          
            </div>
            <script>
                createSegmentedBarChart("IDPChart", [<?= $IDP->q25 ?>, <?= $IDP->median ?>, <?= $IDP->q75 ?>],'IDP ');
            </script>

            <div class="col-md-4 px-5 pt-5">
                <canvas id="women_children_under_5Chart" width="400" height="400" title="women_children_under_5 Category"></canvas>         
            </div>
            <script>
                createSegmentedBarChart("women_children_under_5Chart", [<?= $women_children_under_5->q25 ?>, <?= $women_children_under_5->median ?>, <?= $women_children_under_5->q75 ?>],'Women & Children Under 5');
            </script>

            <div class="col-md-4 px-5 pt-5">
                <canvas id="sex_worker_truck_driverChart" width="400" height="400" title="sex_worker_truck_driver Category"></canvas>                
            </div>
            <script>
                createSegmentedBarChart("sex_worker_truck_driverChart", [<?= $sex_worker_truck_driver->q25 ?>, <?= $sex_worker_truck_driver->median ?>, <?= $sex_worker_truck_driver->q75 ?>],'Sex Worker & Truck Driver');
            </script>
        </div>
        <!-- Call the function to create the "Elderly" category pie chart -->

        <!-- Repeat this structure for other categories as needed -->
    </div>
</body>

</html>