<!DOCTYPE html>
<html>

<head>
    <title>Data Reports</title>
    <!-- Include Chart.js library and other dependencies -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
    <script>
            function createGroupedBarChart(id, data, groups, title) {
                // Data for the grouped bar chart
                var chartData = {
                    labels: groups,
                    datasets: data
                };

                // Grouped bar chart options
                var options = {
                    responsive: true,
                };

                // Create the grouped bar chart
                var chart = new Chart(document.getElementById(id).getContext('2d'), {
                    type: 'bar',
                    data: chartData,
                    options: options,
                });
            }
        </script>
    

        <!-- Pie Chart for "Poor" Category -->
        <div class="row">
            <div class="col-md-2">
                <h6>Total Captured:</h6>
                <h4></h4>
            </div>
            <div class="col-md-2">
                <h6>Total Captured:</h6>
                <h4></h4>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 px-5 pt-5">
                <canvas id="groupedBarChart" width="800" height="400" title="Grouped Categories"></canvas>
            </div>
            <script>
                var categories = ['Disability', 'Elderly', 'Poor', 'Sex Workers & Truck Driver', 'IDP','Women & Children Under 5'];
                var data = [
                    {
                        label: 'Low',
                        data: [<?= $disability->q25 ?>, <?= $elderly->q25 ?>, <?= $poor->q25 ?>, <?= $sex_worker_truck_driver->q25 ?>, <?= $IDP->q25 ?>, <?= $women_children_under_5->q25 ?>],
                        backgroundColor: "#FF5733",
                    },
                    {
                        label: 'Median',
                        data: [<?= $disability->median ?>, <?= $elderly->median ?>, <?= $poor->median ?>, <?= $sex_worker_truck_driver->median ?>, <?= $IDP->median?>, <?= $women_children_under_5->median ?>],
                        backgroundColor: "#33FF57",
                    },
                    {
                        label: 'High',
                        data: [<?= $disability->q75 ?>, <?= $elderly->q75 ?>, <?= $poor->q75 ?>, <?= $sex_worker_truck_driver->q75 ?>, <?= $IDP->q75 ?> , <?= $women_children_under_5->q75 ?>],
                        backgroundColor: "#5733FF",
                    }
                ];

                createGroupedBarChart("groupedBarChart", data, categories, 'Grouped Categories');
            </script>
        </div>
    
        <!-- Call the function to create the "Elderly" category pie chart -->

        <!-- Repeat this structure for other categories as needed -->
    </div>
</body>

</html>